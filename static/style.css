/* style.css */
:root {
    --bg-color: #f0fdf4;
    /* Very light clinical green/white */
    --primary: #059669;
    /* Medical Emerald Green */
    --primary-glow: rgba(5, 150, 105, 0.2);
    --secondary: #0ea5e9;
    /* Trust Blue */
    --accent: #10b981;
    --text-main: #1f2937;
    /* Dark Slate for readable text */
    --text-muted: #4b5563;
    /* Medium gray */

    /* Solid, clean white panels instead of glass */
    --panel-bg: #ffffff;
    --panel-border: #e2e8f0;
    --panel-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.01);

    /* Input backgrounds */
    --input-bg: #f8fafc;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Outfit', sans-serif;
}

body {
    background-color: var(--bg-color);
    color: var(--text-main);
    min-height: 100vh;
    overflow-x: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: radial-gradient(#dcfce7 1px, transparent 1px);
    background-size: 20px 20px;
}

/* Background Elements - Subdued for professional look */
.background-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    z-index: -1;
    overflow: hidden;
    opacity: 0.5;
    /* Fade out particles */
}

#particles-js {
    position: absolute;
    width: 100%;
    height: 100%;
}

.blob {
    display: none;
    /* No blobs in medical theme */
}

/* Container & Sections */
.app-container {
    width: 100%;
    max-width: 850px;
    padding: 2rem;
    position: relative;
    z-index: 10;
}

.glass-panel {
    background: var(--panel-bg);
    border: 1px solid var(--panel-border);
    border-radius: 20px;
    padding: 3rem;
    box-shadow: var(--panel-shadow);
    position: relative;
    overflow: hidden;
}

/* Top accent line on panels */
.glass-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 6px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
}

.slide-active {
    display: block;
    animation: slideIn 0.4s ease-out forwards;
}

.slide-hidden {
    display: none;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(15px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Typography */
.title {
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    line-height: 1.1;
    color: #0f172a;
}

.highlight {
    color: var(--primary);
}

.subtitle {
    font-size: 1.25rem;
    color: var(--text-muted);
    font-weight: 500;
    margin-bottom: 2rem;
}

.badge {
    display: inline-block;
    padding: 0.35rem 0.85rem;
    background: #dcfce7;
    color: var(--primary);
    border: 1px solid #bbf7d0;
    border-radius: 9999px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Welcome Section */
.description-box {
    background: var(--input-bg);
    border-radius: 12px;
    padding: 1.75rem;
    margin-bottom: 2.5rem;
    border: 1px solid var(--panel-border);
}

.description-box p {
    color: var(--text-muted);
    line-height: 1.7;
    margin-bottom: 1.5rem;
    font-size: 1.05rem;
}

.features-grid {
    display: flex;
    gap: 1.5rem;
    justify-content: space-between;
    border-top: 1px solid var(--panel-border);
    padding-top: 1.5rem;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--text-main);
    font-weight: 600;
    font-size: 0.95rem;
}

.icon-circle {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    /* Square with rounded corners for clinical look */
    background: #e0f2fe;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--secondary);
}

.feature-item:nth-child(2) .icon-circle {
    background: #dcfce7;
    color: var(--primary);
}

.feature-item:nth-child(3) .icon-circle {
    background: #fef3c7;
    color: #eab308;
}

/* Buttons */
.primary-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    background: var(--primary);
    color: white;
    border: none;
    padding: 1.1rem 2rem;
    font-size: 1.125rem;
    font-weight: 600;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    box-shadow: 0 4px 6px -1px var(--primary-glow);
}

.primary-btn:hover {
    background: #047857;
    /* Darker emerald */
    transform: translateY(-1px);
    box-shadow: 0 6px 12px -2px var(--primary-glow);
}

.primary-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

/* Button Group (Welcome Page) */
.btn-group {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.outline-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.65rem;
    background: white;
    color: var(--primary);
    border: 2px solid var(--primary);
    padding: 0.95rem 2rem;
    font-size: 1.125rem;
    font-weight: 600;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.2s ease;
    width: 100%;
    text-decoration: none;
}

.outline-btn:hover {
    background: #f0fdf4;
    transform: translateY(-1px);
    box-shadow: 0 4px 10px -2px var(--primary-glow);
}

/* Form Section */
.form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
    border-bottom: 2px solid var(--input-bg);
    padding-bottom: 1rem;
    margin-bottom: 1.5rem;
}

.form-header h2 {
    font-size: 1.8rem;
    color: #0f172a;
}

.icon-btn {
    background: white;
    border: 1px solid var(--panel-border);
    color: var(--text-muted);
    width: 44px;
    height: 44px;
    border-radius: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1.1rem;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.icon-btn:hover {
    background: var(--input-bg);
    color: var(--text-main);
}

.form-desc {
    color: var(--text-muted);
    margin-bottom: 2rem;
    font-size: 1.05rem;
}

.form-scroll-area {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
    max-height: 55vh;
    overflow-y: auto;

    /* New: Single Box Container styles */
    background: #f8fafc;
    /* Slightly offset white for depth inside the main white panel */
    border: 1px solid #e2e8f0;
    border-radius: 16px;
    padding: 2rem;
    /* More breathing room */
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.02);
    /* Inner depth to look like a tray */
}

/* Custom Scrollbar - Light Theme */
.form-scroll-area::-webkit-scrollbar {
    width: 6px;
}

.form-scroll-area::-webkit-scrollbar-track {
    background: var(--input-bg);
    border-radius: 4px;
}

.form-scroll-area::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
}

.form-scroll-area::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

.input-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.input-group.full-width {
    grid-column: 1 / -1;
}

.input-group label {
    font-weight: 600;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-main);
}

.input-group label i {
    color: var(--secondary);
    width: 20px;
    text-align: center;
}

/* Custom Inputs */
.modern-input {
    width: 100%;
    background: #ffffff;
    /* Solid white against the #f8fafc tray */
    border: 1px solid #cbd5e1;
    /* Clearer boundaries */
    color: var(--text-main);
    padding: 0.8rem 1rem;
    border-radius: 8px;
    font-size: 1rem;
    outline: none;
    transition: all 0.2s;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.02);
}

.modern-input:focus {
    border-color: var(--secondary);
    box-shadow: 0 0 0 3px #e0f2fe;
}

.modern-input::placeholder {
    color: #94a3b8;
}

/* Toggle Buttons for Yes/No */
.toggle-group {
    display: flex;
    background: #ffffff;
    border-radius: 8px;
    padding: 0.25rem;
    border: 1px solid #cbd5e1;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.02);
}

.toggle-btn {
    flex: 1;
    padding: 0.5rem 0;
    text-align: center;
    background: transparent;
    color: var(--text-muted);
    border: none;
    cursor: pointer;
    border-radius: 6px;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.2s;
}

.toggle-btn:hover:not(.active) {
    background: rgba(0, 0, 0, 0.02);
}

.toggle-btn.active {
    background: var(--primary);
    color: white;
    box-shadow: 0 2px 4px rgba(5, 150, 105, 0.2);
}

.toggle-btn.active-no {
    background: white;
    color: var(--text-main);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    border: 1px solid #e2e8f0;
}

/* Special styling for gender toggle to match the light theme */
.toggle-btn.gender-btn.active {
    background: var(--secondary);
    /* Blue for gender selection instead of green */
    color: white;
    box-shadow: 0 2px 4px rgba(14, 165, 233, 0.2);
}

.form-footer {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--panel-border);
}

/* Modals */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(15, 23, 42, 0.4);
    /* Softer dark overlay */
    backdrop-filter: blur(4px);
    z-index: 100;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s;
}

.modal-overlay:not(.hidden) {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    max-width: 500px;
    width: 90%;
    position: relative;
    text-align: center;
    transform: scale(0.95);
    transition: all 0.3s;
    background: white;
    /* Force white for modal */
}

.modal-overlay:not(.hidden) .modal-content {
    transform: scale(1);
}

.close-btn {
    position: absolute;
    top: 1.25rem;
    right: 1.25rem;
    background: #f1f5f9;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    color: var(--text-muted);
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    justify-content: center;
    align-items: center;
}

.close-btn:hover {
    background: #e2e8f0;
    color: #0f172a;
}

.result-icon-container {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto 1.5rem;
    font-size: 2rem;
    background: var(--input-bg);
}

.result-icon-container.danger {
    background: #fee2e2;
    color: #ef4444;
}

.result-icon-container.safe {
    background: #dcfce7;
    color: var(--primary);
}

.result-icon-container.analyzing {
    color: var(--secondary);
    background: #e0f2fe;
}

.modal-content h2 {
    font-size: 1.75rem;
    margin-bottom: 0.75rem;
    color: #0f172a;
}

.result-desc {
    color: var(--text-muted);
    margin-bottom: 2rem;
    line-height: 1.6;
    font-size: 0.95rem;
}

/* Confidence Bar - Medical Style */
.confidence-bar-container {
    background: var(--input-bg);
    padding: 1.25rem;
    border-radius: 10px;
    margin-bottom: 1.5rem;
    text-align: left;
    border: 1px solid var(--panel-border);
}

.confidence-labels {
    display: flex;
    justify-content: space-between;
    margin-bottom: 0.75rem;
    font-size: 0.9rem;
    color: var(--text-muted);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.confidence-labels span:last-child {
    color: var(--text-main);
    font-size: 1rem;
}

.progress-bar {
    width: 100%;
    height: 10px;
    background: #e2e8f0;
    border-radius: 5px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    width: 0%;
    background: var(--secondary);
    /* Default blue until dangerous */
    transition: width 1s cubic-bezier(0.4, 0, 0.2, 1), background-color 0.5s;
}

/* Dynamic color for progress fill based on modal state via JS logic, but handled by parent class for simplicity in CSS if needed, 
   For now, we will update the JS to change the fill color directly or keep it secondary */

.danger-fill {
    background: #ef4444 !important;
}

.safe-fill {
    background: var(--primary) !important;
}

.secondary-btn {
    background: white;
    border: 1px solid var(--panel-border);
    color: var(--text-main);
    padding: 0.8rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    width: 100%;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    font-size: 1rem;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.secondary-btn:hover {
    background: var(--input-bg);
    border-color: #cbd5e1;
}

.hidden {
    display: none !important;
}

/* Responsive */
@media (max-width: 768px) {
    .form-scroll-area {
        grid-template-columns: 1fr;
    }

    .features-grid {
        flex-direction: column;
    }

    .glass-panel {
        padding: 2rem 1.5rem;
    }

    .title {
        font-size: 2.25rem;
    }
}